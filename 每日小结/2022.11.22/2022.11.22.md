# 总结

今天VP了昨天的div4，感觉手速还是不行。

![](1.png)

还去学习了周末ccpc绵阳的B的$O(n \sqrt{n})$做法，发现特别简单。

# CCPC绵阳B [Call Me Call Me](https://codeforces.com/gym/104065/problem/B)

## 题意

有$n$个人，每个人有$l_i$，$r_i$，$k_i$。每次可以邀请一个人，如果$[l_i,r_i]$内至少有$k_i$人同意了邀请，那么他会同意邀请。问最多有多少人同意邀请。

$n \le 4 \cdot 10^5$

Time Limit:$15$s

## 题解$O(n \sqrt{n})$

看范围很像是根号相关。考虑一种朴素的维护方式，把所有$[l_i,r_i]$放到线段树上的$log$个位置上，每次有新的人被邀请了就遍历线段树上的$log$个位置将所有的$k_i-1$，直到没有人成功被邀请。考虑设一个阈值$m$，每$m$次操作修改一次线段树，每次修改将所有的$k_i \le m$的$[l_i,r_i]$放到线段树上。$m$设为$\sqrt{n}$复杂度达到最优$O(n \sqrt{n})$。



